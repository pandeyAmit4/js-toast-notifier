{"version":3,"file":"index.modern.mjs","sources":["../src/toast-container.js","../src/constants.js","../src/themes.js","../src/index.js","../src/toast.js","../src/positioning.js"],"sourcesContent":["export function getOrCreateContainer(position = \"top-right\") {\r\n\tconst containerClass = \"droplet-toast-container\"\r\n\r\n\t// Function to detect if the device is mobile (based on viewport width or user-agent)\r\n\tconst isMobile = () => {\r\n\t\tconst mobileViewportWidth = window.innerWidth <= 768 // Check screen width for mobile devices\r\n\t\tconst isMobileDevice = /Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) // Check user-agent for mobile devices\r\n\r\n\t\treturn mobileViewportWidth || isMobileDevice // Return true if either check is true\r\n\t}\r\n\r\n\t// If it's a mobile device, override position to top-center or bottom-center\r\n\tif (isMobile()) {\r\n\t\tposition = position.includes(\"top\") ? \"top-center\" : \"bottom-center\"\r\n\t}\r\n\r\n\t// Query for a container with the specific position\r\n\tlet container = document.querySelector(`.${containerClass}[data-position=\"${position}\"]`)\r\n\r\n\tif (!container) {\r\n\t\t// If not found, create a new one\r\n\t\tcontainer = document.createElement(\"div\")\r\n\t\tcontainer.className = containerClass\r\n\t\tcontainer.setAttribute(\"data-position\", position)\r\n\t\tdocument.body.appendChild(container)\r\n\t}\r\n\r\n\treturn container\r\n}\r\n","export const positions = {\r\n\tTOP: \"top\",\r\n\tBOTTOM: \"bottom\",\r\n\tLEFT: \"left\",\r\n\tRIGHT: \"right\",\r\n\tTOP_LEFT: \"top-left\",\r\n\tTOP_RIGHT: \"top-right\",\r\n\tBOTTOM_LEFT: \"bottom-left\",\r\n\tBOTTOM_RIGHT: \"bottom-right\",\r\n}\r\n\r\nexport const notificationTypes = {\r\n\tSUCCESS: \"success\",\r\n\tERROR: \"error\",\r\n\tINFO: \"info\",\r\n\tWARNING: \"warning\",\r\n}\r\n\r\nexport const defaultIcons = {\r\n\t[notificationTypes.SUCCESS]: `<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>`,\r\n\t[notificationTypes.ERROR]: `<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg>`,\r\n\t[notificationTypes.INFO]: `<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>`,\r\n\t[notificationTypes.WARNING]: `<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>`,\r\n}\r\n","export const defaultThemes = {\r\n\tlight: {\r\n\t\tbackgroundColor: \"#ffffff\",\r\n\t\ttextColor: \"#333333\",\r\n\t},\r\n\tdark: {\r\n\t\tbackgroundColor: \"#1a1a1a\",\r\n\t\ttextColor: \"#ffffff\",\r\n\t},\r\n}\r\n\r\n// Updated colors to meet WCAG 2.1 AA contrast requirements\r\nexport const typeThemes = {\r\n\tsuccess: {\r\n\t\tbackgroundColor: \"#0d6d4d\", // Darker green for better contrast\r\n\t\ttextColor: \"#ffffff\",\r\n\t\ticonColor: \"#ffffff\",\r\n\t},\r\n\terror: {\r\n\t\tbackgroundColor: \"#c41e3a\", // Darker red for better contrast\r\n\t\ttextColor: \"#ffffff\",\r\n\t\ticonColor: \"#ffffff\",\r\n\t},\r\n\tinfo: {\r\n\t\tbackgroundColor: \"#0055b3\", // Darker blue for better contrast\r\n\t\ttextColor: \"#ffffff\",\r\n\t\ticonColor: \"#ffffff\",\r\n\t},\r\n\twarning: {\r\n\t\tbackgroundColor: \"#944e00\", // Darker orange for better contrast\r\n\t\ttextColor: \"#ffffff\",\r\n\t\ticonColor: \"#ffffff\",\r\n\t},\r\n}\r\n","import { getOrCreateContainer } from \"./toast-container\"\r\nimport { createToast } from \"./toast\";\r\nimport { positions, notificationTypes } from \"./constants\";\r\nimport { calculatePosition } from \"./positioning\";\r\nimport \"./styles/toast.css\"\r\n\r\n// Inject styles when the module is loaded\r\n// injectStyles();\r\n\r\nclass ToastNotifier {\r\n  constructor(options) {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    this.options = Object.assign({\r\n      position: positions.TOP_RIGHT,\r\n      timeout: 5000,\r\n      theme: \"light\",\r\n      showCloseButton: true,\r\n      pauseOnHover: true\r\n    }, options || {});\r\n    this.container = getOrCreateContainer(this.options.position)\r\n    // updateContainerPosition(this.container, this.options.position);\r\n\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    document.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  show(message, options) {\r\n    if (typeof window === 'undefined') {\r\n      return null;\r\n    }\r\n\r\n    const toastOptions = Object.assign({}, this.options, options || {});\r\n    const toast = createToast(message, toastOptions);\r\n\r\n    const viewport = {\r\n      width: window.innerWidth || document.documentElement.clientWidth,\r\n      height: window.innerHeight || document.documentElement.clientHeight\r\n    };\r\n\r\n    if (toastOptions.anchor) {\r\n      const coords = calculatePosition(toast, toastOptions.anchor, toastOptions.position, viewport);\r\n      Object.assign(toast.style, {\r\n        position: \"absolute\",\r\n        top: coords.top + \"px\",\r\n        left: coords.left + \"px\",\r\n        zIndex: \"1001\"\r\n      });\r\n\r\n      if (coords.dropletOffset) {\r\n        toast.style.setProperty(\"--droplet-left\", coords.dropletOffset + \"px\");\r\n      }\r\n\r\n      document.body.appendChild(toast);\r\n    } else {\r\n    //   updateContainerPosition(this.container, toastOptions.position);\r\n\t  this.container = getOrCreateContainer(toastOptions.position)\r\n      this.container.appendChild(toast);\r\n    }\r\n\r\n    toast.addEventListener(\"keydown\", function(e) {\r\n      if (e.key === \"Enter\" || e.key === \" \") {\r\n        this.hide(toast);\r\n      }\r\n    }.bind(this));\r\n\r\n    const closeButton = toast.querySelector(\".toast-close\");\r\n    if (closeButton) {\r\n      closeButton.addEventListener(\"click\", this.hide.bind(this, toast));\r\n    }\r\n\r\n    // Use setTimeout for IE11 compatibility instead of requestAnimationFrame\r\n    setTimeout(function() {\r\n      toast.classList.add(\"toast-show\");\r\n    }, 0);\r\n\r\n    if (toastOptions.timeout) {\r\n      var timeLeft = toastOptions.timeout;\r\n      var startTime;\r\n      var timeoutId;\r\n\r\n      var startTimer = function() {\r\n        startTime = Date.now();\r\n        timeoutId = setTimeout(this.hide.bind(this, toast), timeLeft);\r\n        if (toast._updateProgress) {\r\n          toast._updateProgress(false);\r\n        }\r\n      }.bind(this);\r\n\r\n      var pauseTimer = function() {\r\n        clearTimeout(timeoutId);\r\n        timeLeft -= Date.now() - startTime;\r\n        if (toast._updateProgress) {\r\n          toast._updateProgress(true);\r\n        }\r\n      };\r\n\r\n      if (toastOptions.pauseOnHover) {\r\n        toast.addEventListener(\"mouseenter\", pauseTimer);\r\n        toast.addEventListener(\"mouseleave\", startTimer);\r\n      }\r\n\r\n      startTimer();\r\n    }\r\n\r\n    return toast;\r\n  }\r\n\r\n  success(message, options) {\r\n    return this.show(message, Object.assign({}, options, { type: notificationTypes.SUCCESS }));\r\n  }\r\n\r\n  error(message, options) {\r\n    return this.show(message, Object.assign({}, options, { type: notificationTypes.ERROR }));\r\n  }\r\n\r\n  info(message, options) {\r\n    return this.show(message, Object.assign({}, options, { type: notificationTypes.INFO }));\r\n  }\r\n\r\n  warning(message, options) {\r\n    return this.show(message, Object.assign({}, options, { type: notificationTypes.WARNING }));\r\n  }\r\n\r\n  hide(toast) {\r\n    toast.classList.remove(\"toast-show\");\r\n    \r\n    // Use standard event listener for better compatibility\r\n    var handleTransitionEnd = function() {\r\n      if (toast.parentNode) {\r\n        toast.parentNode.removeChild(toast);\r\n      }\r\n      toast.removeEventListener(\"transitionend\", handleTransitionEnd);\r\n    };\r\n    \r\n    toast.addEventListener(\"transitionend\", handleTransitionEnd);\r\n  }\r\n\r\n  handleKeyDown(e) {\r\n    if (e.key === \"Escape\") {\r\n      var toasts = this.container.querySelectorAll(\".toast\");\r\n      for (var i = 0; i < toasts.length; i++) {\r\n        this.hide(toasts[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\r\n    if (this.container && this.container.parentNode) {\r\n      this.container.parentNode.removeChild(this.container);\r\n    }\r\n  }\r\n}\r\n\r\nexport { ToastNotifier };","import { defaultIcons } from \"./constants\"\r\nimport { typeThemes, defaultThemes } from \"./themes\"\r\n\r\nexport function createToast(message, options) {\r\n\tconst toast = document.createElement(\"div\")\r\n\tconst theme = getTheme(options)\r\n\tconst type = options.type || \"default\"\r\n\r\n\ttoast.className = `toast ${options.customClass || \"\"}`\r\n\ttoast.setAttribute(\"role\", \"alert\")\r\n\ttoast.setAttribute(\"aria-live\", \"polite\")\r\n\ttoast.setAttribute(\"aria-atomic\", \"true\")\r\n\r\n\tif (type !== \"default\") {\r\n\t\ttoast.setAttribute(\"aria-label\", `${type} notification: ${message}`)\r\n\t}\r\n\r\n\tObject.assign(toast.style, {\r\n\t\tbackgroundColor: theme.backgroundColor,\r\n\t\tcolor: theme.textColor,\r\n\t})\r\n\r\n\tconst content = createContent(message, options, theme)\r\n\ttoast.appendChild(content)\r\n\r\n\tif (options.showCloseButton !== false) {\r\n\t\tconst closeButton = createCloseButton(theme)\r\n\t\ttoast.appendChild(closeButton)\r\n\t}\r\n\r\n\tif (options.anchor) {\r\n\t\ttoast.classList.add(\"toast-anchored\")\r\n\t\tconst droplet = createDroplet(theme)\r\n\t\ttoast.appendChild(droplet)\r\n\t}\r\n\r\n\tif (options.showProgress !== false && options.timeout) {\r\n\t\tconst { progressBar, updateProgress } = createProgressBar(options)\r\n\t\ttoast.appendChild(progressBar)\r\n\t\ttoast._updateProgress = updateProgress\r\n\t}\r\n\r\n\ttoast.setAttribute(\"tabindex\", \"0\")\r\n\r\n\treturn toast\r\n}\r\n\r\nfunction getTheme(options) {\r\n\tif (options.type && typeThemes[options.type]) {\r\n\t\treturn {\r\n\t\t\t...typeThemes[options.type],\r\n\t\t\t...options.theme,\r\n\t\t}\r\n\t}\r\n\r\n\tconst baseTheme = defaultThemes[options.theme] || defaultThemes.light\r\n\treturn {\r\n\t\t...baseTheme,\r\n\t\t...options.theme,\r\n\t}\r\n}\r\n\r\nfunction createContent(message, options, theme) {\r\n\tconst wrapper = document.createElement(\"div\")\r\n\twrapper.className = \"toast-content\"\r\n\twrapper.setAttribute(\"role\", \"presentation\")\r\n\r\n\tif (options.type && defaultIcons[options.type]) {\r\n\t\tconst icon = createIcon(options, theme)\r\n\t\twrapper.appendChild(icon)\r\n\t}\r\n\r\n\tconst messageEl = document.createElement(\"span\")\r\n\tmessageEl.textContent = message\r\n\twrapper.appendChild(messageEl)\r\n\r\n\treturn wrapper\r\n}\r\n\r\nfunction createIcon(options, theme) {\r\n\tconst icon = document.createElement(\"div\")\r\n\ticon.className = \"toast-icon\"\r\n\ticon.setAttribute(\"role\", \"img\")\r\n\ticon.setAttribute(\"aria-label\", `${options.type} icon`)\r\n\ticon.innerHTML = options.icon || defaultIcons[options.type]\r\n\ticon.style.color = theme.iconColor || theme.textColor\r\n\treturn icon\r\n}\r\n\r\nfunction createCloseButton(theme) {\r\n\tconst button = document.createElement(\"button\")\r\n\tbutton.className = \"toast-close\"\r\n\tbutton.setAttribute(\"aria-label\", \"Close notification\")\r\n\tbutton.innerHTML = `<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" aria-hidden=\"true\" focusable=\"false\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>`\r\n\tbutton.style.color = theme.textColor\r\n\treturn button\r\n}\r\n\r\nfunction createDroplet(theme) {\r\n\tconst droplet = document.createElement(\"div\")\r\n\tdroplet.className = \"toast-droplet\"\r\n\tdroplet.setAttribute(\"role\", \"presentation\")\r\n\tdroplet.setAttribute(\"aria-hidden\", \"true\")\r\n\tdroplet.style.backgroundColor = theme.backgroundColor\r\n\treturn droplet\r\n}\r\n\r\nfunction createProgressBar(options) {\r\n\tconst progress = document.createElement(\"div\")\r\n\tprogress.className = \"toast-progress\"\r\n\r\n\tif (options.progressHeight) {\r\n\t\tprogress.style.setProperty(\"--progress-height\", options.progressHeight)\r\n\t}\r\n\r\n\tif (options.progressColor) {\r\n\t\tprogress.style.setProperty(\"--progress-color\", options.progressColor)\r\n\t}\r\n\r\n\tif (options.progressBackground) {\r\n\t\tprogress.style.setProperty(\"--progress-background\", options.progressBackground)\r\n\t}\r\n\r\n\tconst bar = document.createElement(\"div\")\r\n\tbar.className = \"toast-progress-bar\"\r\n\r\n\t// Initialize progress state\r\n\tlet startTime = null\r\n\tlet pausedAt = null\r\n\tlet currentScale = 0\r\n\tlet animationFrame = null\r\n\r\n\t// Function to update progress bar position\r\n\tconst updateProgress = (isPaused = false) => {\r\n\t\tif (isPaused && startTime !== null) {\r\n\t\t\t// Store current progress when pausing\r\n\t\t\tconst elapsed = Date.now() - startTime\r\n\t\t\tcurrentScale = Math.max(0, Math.min(1, elapsed / options.timeout))\r\n\t\t\tpausedAt = elapsed\r\n\t\t\tstartTime = null\r\n\r\n\t\t\t// Cancel animation frame\r\n\t\t\tif (animationFrame) {\r\n\t\t\t\tcancelAnimationFrame(animationFrame)\r\n\t\t\t\tanimationFrame = null\r\n\t\t\t}\r\n\r\n\t\t\t// Set the exact position where we paused\r\n\t\t\tbar.style.transition = \"none\"\r\n\t\t\tbar.style.transform = `scaleX(${currentScale})`\r\n\t\t} else if (!isPaused) {\r\n\t\t\t// Resume or start progress\r\n\t\t\tif (pausedAt !== null) {\r\n\t\t\t\t// Resuming from paused state\r\n\t\t\t\tconst remainingTime = options.timeout - pausedAt\r\n\t\t\t\tstartTime = Date.now() - pausedAt\r\n\r\n\t\t\t\t// Restore transition and continue from current position\r\n\t\t\t\tbar.style.transition = `transform ${remainingTime}ms linear`\r\n\t\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\t\tbar.style.transform = \"scaleX(1)\"\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Starting fresh\r\n\t\t\t\tstartTime = Date.now()\r\n\t\t\t\tbar.style.transition = `transform ${options.timeout}ms linear`\r\n\t\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\t\tbar.style.transform = \"scaleX(1)\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t// Start progress tracking\r\n\t\t\tconst animate = () => {\r\n\t\t\t\tif (startTime === null) return // Stop if paused\r\n\r\n\t\t\t\tconst elapsed = Date.now() - startTime\r\n\t\t\t\tcurrentScale = Math.max(0, Math.min(1, elapsed / options.timeout))\r\n\r\n\t\t\t\tif (elapsed < options.timeout) {\r\n\t\t\t\t\tanimationFrame = requestAnimationFrame(animate)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tanimate()\r\n\t\t}\r\n\t}\r\n\r\n\tprogress.appendChild(bar)\r\n\r\n\t// Start the progress bar after a frame\r\n\trequestAnimationFrame(() => {\r\n\t\tupdateProgress(false)\r\n\t})\r\n\r\n\treturn { progressBar: progress, updateProgress }\r\n}\r\n","export function calculatePosition(toast, anchor, position, viewport) {\r\n\tconst anchorRect = anchor?.getBoundingClientRect()\r\n\tconst toastRect = toast.getBoundingClientRect()\r\n\tconst offset = 12\r\n\tconst dropletSize = 12\r\n\r\n\tlet coords = { top: 0, left: 0 }\r\n\r\n\tif (anchor) {\r\n\t\tcoords = getAnchorPosition(position, anchorRect, toastRect, offset, dropletSize)\r\n\t\tcoords = adjustForViewport(coords, toastRect, viewport, position)\r\n\r\n\t\t// Set the data-point attribute for droplet positioning\r\n\t\ttoast.setAttribute(\"data-point\", getDropletPoint(position))\r\n\r\n\t\t// Calculate connector height for bottom-anchored toasts\r\n\t\tif (position === \"bottom\") {\r\n\t\t\tconst connectorHeight = Math.abs(anchorRect.top - (coords.top + toastRect.height))\r\n\t\t\ttoast.style.setProperty(\"--droplet-connector-height\", `${connectorHeight}px`)\r\n\t\t}\r\n\t} else {\r\n\t\tcoords = getFixedPosition(position, toastRect, viewport, offset)\r\n\t}\r\n\r\n\treturn coords\r\n}\r\n\r\nfunction getAnchorPosition(position, anchorRect, toastRect, offset, dropletSize) {\r\n\tconst halfDroplet = dropletSize / 2\r\n\r\n\tconst positions = {\r\n\t\ttop: {\r\n\t\t\ttop: anchorRect.top - toastRect.height - offset - halfDroplet,\r\n\t\t\tleft: anchorRect.left + (anchorRect.width - toastRect.width) / 2,\r\n\t\t},\r\n\t\tbottom: {\r\n\t\t\ttop: anchorRect.bottom + offset + halfDroplet,\r\n\t\t\tleft: anchorRect.left + (anchorRect.width - toastRect.width) / 2,\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\ttop: anchorRect.top + (anchorRect.height - toastRect.height) / 2,\r\n\t\t\tleft: anchorRect.left - toastRect.width - offset - halfDroplet,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttop: anchorRect.top + (anchorRect.height - toastRect.height) / 2,\r\n\t\t\tleft: anchorRect.right + offset + halfDroplet,\r\n\t\t},\r\n\t}\r\n\r\n\treturn positions[position] || positions.top\r\n}\r\n\r\nfunction adjustForViewport(coords, toastRect, viewport, position) {\r\n\tconst margin = 20\r\n\tconst originalCoords = { ...coords }\r\n\r\n\t// Adjust horizontal position\r\n\tif (coords.left < margin) {\r\n\t\tcoords.left = margin\r\n\t} else if (coords.left + toastRect.width > viewport.width - margin) {\r\n\t\tcoords.left = viewport.width - toastRect.width - margin\r\n\t}\r\n\r\n\t// Adjust vertical position\r\n\tif (coords.top < margin) {\r\n\t\tcoords.top = margin\r\n\t} else if (coords.top + toastRect.height > viewport.height - margin) {\r\n\t\tcoords.top = viewport.height - toastRect.height - margin\r\n\t}\r\n\r\n\t// Update droplet position if toast position was adjusted\r\n\tif (coords.left !== originalCoords.left) {\r\n\t\tconst dropletOffset = Math.min(Math.max(originalCoords.left - coords.left + toastRect.width / 2, 20), toastRect.width - 20)\r\n\t\tcoords.dropletOffset = dropletOffset\r\n\t}\r\n\r\n\treturn coords\r\n}\r\n\r\nfunction getFixedPosition(position, toastRect, viewport, offset) {\r\n\tconst positions = {\r\n\t\t\"top-left\": { top: offset, left: offset },\r\n\t\t\"top-right\": { top: offset, right: offset },\r\n\t\t\"bottom-left\": { bottom: offset, left: offset },\r\n\t\t\"bottom-right\": { bottom: offset, right: offset },\r\n\t}\r\n\r\n\treturn positions[position] || positions[\"top-right\"]\r\n}\r\n\r\nfunction getDropletPoint(position) {\r\n\tconst points = {\r\n\t\ttop: \"bottom\",\r\n\t\tbottom: \"top\",\r\n\t\tleft: \"right\",\r\n\t\tright: \"left\",\r\n\t}\r\n\r\n\treturn points[position] || \"bottom\"\r\n}\r\n"],"names":["getOrCreateContainer","position","containerClass","isMobile","mobileViewportWidth","window","innerWidth","isMobileDevice","test","navigator","userAgent","includes","container","document","querySelector","createElement","className","setAttribute","body","appendChild","notificationTypes","defaultIcons","notificationTypes_SUCCESS","notificationTypes_ERROR","notificationTypes_INFO","notificationTypes_WARNING","defaultThemes","light","backgroundColor","textColor","dark","typeThemes","success","iconColor","error","info","warning","ToastNotifier","constructor","options","this","Object","assign","timeout","theme","showCloseButton","pauseOnHover","handleKeyDown","bind","addEventListener","show","message","toastOptions","toast","type","getTheme","customClass","style","color","content","wrapper","icon","innerHTML","createIcon","messageEl","textContent","createContent","closeButton","button","createCloseButton","anchor","classList","add","droplet","createDroplet","showProgress","progressBar","updateProgress","progress","progressHeight","setProperty","progressColor","progressBackground","bar","startTime","pausedAt","currentScale","animationFrame","isPaused","elapsed","Date","now","Math","max","min","cancelAnimationFrame","transition","transform","remainingTime","requestAnimationFrame","animate","createProgressBar","_updateProgress","createToast","viewport","width","documentElement","clientWidth","height","innerHeight","clientHeight","coords","anchorRect","getBoundingClientRect","toastRect","top","left","positions","dropletSize","bottom","right","getAnchorPosition","margin","originalCoords","dropletOffset","adjustForViewport","getDropletPoint","connectorHeight","abs","offset","getFixedPosition","calculatePosition","zIndex","e","key","hide","setTimeout","timeoutId","timeLeft","startTimer","clearTimeout","remove","handleTransitionEnd","parentNode","removeChild","removeEventListener","toasts","querySelectorAll","i","length","destroy"],"mappings":"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"}