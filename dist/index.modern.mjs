import"core-js/modules/es.object.assign.js";import"core-js/modules/es.array.includes.js";import"core-js/modules/es.regexp.exec.js";import"core-js/modules/es.string.includes.js";function t(t="top-right"){const e="droplet-toast-container";(()=>{const t=window.innerWidth<=768,e=/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return t||e})()&&(t=t.includes("top")?"top-center":"bottom-center");let o=document.querySelector(`.${e}[data-position="${t}"]`);return o||(o=document.createElement("div"),o.className=e,o.setAttribute("data-position",t),document.body.appendChild(o)),o}const e="success",o="error",n="info",i="warning",r={[e]:'<svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>',[o]:'<svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',[n]:'<svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>',[i]:'<svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>'},s={light:{backgroundColor:"#ffffff",textColor:"#333333"},dark:{backgroundColor:"#1a1a1a",textColor:"#ffffff"}},l={success:{backgroundColor:"#0d6d4d",textColor:"#ffffff",iconColor:"#ffffff"},error:{backgroundColor:"#c41e3a",textColor:"#ffffff",iconColor:"#ffffff"},info:{backgroundColor:"#0055b3",textColor:"#ffffff",iconColor:"#ffffff"},warning:{backgroundColor:"#944e00",textColor:"#ffffff",iconColor:"#ffffff"}};class a{constructor(e){"undefined"!=typeof window&&(this.options=Object.assign({position:"top-right",timeout:5e3,theme:"light",showCloseButton:!0,pauseOnHover:!0},e||{}),this.container=t(this.options.position),this.handleKeyDown=this.handleKeyDown.bind(this),document.addEventListener("keydown",this.handleKeyDown))}show(e,o){if("undefined"==typeof window)return null;const n=Object.assign({},this.options,o||{}),i=function(t,e){const o=document.createElement("div"),n=function(t){return Object.assign({},t.type&&l[t.type]?l[t.type]:s[t.theme]||s.light,t.theme)}(e),i=e.type||"default";o.className=`toast ${e.customClass||""}`,o.setAttribute("role","alert"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","true"),"default"!==i&&o.setAttribute("aria-label",`${i} notification: ${t}`),Object.assign(o.style,{backgroundColor:n.backgroundColor,color:n.textColor});const a=function(t,e,o){const n=document.createElement("div");if(n.className="toast-content",n.setAttribute("role","presentation"),e.type&&r[e.type]){const t=function(t,e){const o=document.createElement("div");return o.className="toast-icon",o.setAttribute("role","img"),o.setAttribute("aria-label",`${t.type} icon`),o.innerHTML=t.icon||r[t.type],o.style.color=e.iconColor||e.textColor,o}(e,o);n.appendChild(t)}const i=document.createElement("span");return i.textContent=t,n.appendChild(i),n}(t,e,n);if(o.appendChild(a),!1!==e.showCloseButton){const t=function(t){const e=document.createElement("button");return e.className="toast-close",e.setAttribute("aria-label","Close notification"),e.innerHTML='<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',e.style.color=t.textColor,e}(n);o.appendChild(t)}if(e.anchor){o.classList.add("toast-anchored");const t=function(t){const e=document.createElement("div");return e.className="toast-droplet",e.setAttribute("role","presentation"),e.setAttribute("aria-hidden","true"),e.style.backgroundColor=t.backgroundColor,e}(n);o.appendChild(t)}if(!1!==e.showProgress&&e.timeout){const{progressBar:t,updateProgress:n}=function(t){const e=document.createElement("div");e.className="toast-progress",t.progressHeight&&e.style.setProperty("--progress-height",t.progressHeight),t.progressColor&&e.style.setProperty("--progress-color",t.progressColor),t.progressBackground&&e.style.setProperty("--progress-background",t.progressBackground);const o=document.createElement("div");o.className="toast-progress-bar";let n=null,i=null,r=0,s=null;const l=(e=!1)=>{if(e&&null!==n){const e=Date.now()-n;r=Math.max(0,Math.min(1,e/t.timeout)),i=e,n=null,s&&(cancelAnimationFrame(s),s=null),o.style.transition="none",o.style.transform=`scaleX(${r})`}else if(!e){if(null!==i){const e=t.timeout-i;n=Date.now()-i,o.style.transition=`transform ${e}ms linear`,requestAnimationFrame(()=>{o.style.transform="scaleX(1)"})}else n=Date.now(),o.style.transition=`transform ${t.timeout}ms linear`,requestAnimationFrame(()=>{o.style.transform="scaleX(1)"});const e=()=>{if(null===n)return;const o=Date.now()-n;r=Math.max(0,Math.min(1,o/t.timeout)),o<t.timeout&&(s=requestAnimationFrame(e))};e()}};return e.appendChild(o),requestAnimationFrame(()=>{l(!1)}),{progressBar:e,updateProgress:l}}(e);o.appendChild(t),o._updateProgress=n}return o.setAttribute("tabindex","0"),o}(e,n),a={width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight};if(n.anchor){const t=function(t,e,o,n){const i=null==e?void 0:e.getBoundingClientRect(),r=t.getBoundingClientRect();let s={top:0,left:0};if(e){if(s=function(t,e,o){const n={top:{top:e.top-o.height-12-6,left:e.left+(e.width-o.width)/2},bottom:{top:e.bottom+12+6,left:e.left+(e.width-o.width)/2},left:{top:e.top+(e.height-o.height)/2,left:e.left-o.width-12-6},right:{top:e.top+(e.height-o.height)/2,left:e.right+12+6}};return n[t]||n.top}(o,i,r),s=function(t,e,o){const n=20,i=Object.assign({},t);if(t.left<n?t.left=n:t.left+e.width>o.width-n&&(t.left=o.width-e.width-n),t.top<n?t.top=n:t.top+e.height>o.height-n&&(t.top=o.height-e.height-n),t.left!==i.left){const o=Math.min(Math.max(i.left-t.left+e.width/2,20),e.width-20);t.dropletOffset=o}return t}(s,r,n),t.setAttribute("data-point",function(t){return{top:"bottom",bottom:"top",left:"right",right:"left"}[t]||"bottom"}(o)),"bottom"===o){const e=Math.abs(i.top-(s.top+r.height));t.style.setProperty("--droplet-connector-height",`${e}px`)}}else s=function(t,e,o,n){const i={"top-left":{top:n,left:n},"top-right":{top:n,right:n},"bottom-left":{bottom:n,left:n},"bottom-right":{bottom:n,right:n}};return i[t]||i["top-right"]}(o,0,0,12);return s}(i,n.anchor,n.position,a);Object.assign(i.style,{position:"absolute",top:t.top+"px",left:t.left+"px",zIndex:"1001"}),t.dropletOffset&&i.style.setProperty("--droplet-left",t.dropletOffset+"px"),document.body.appendChild(i)}else this.container=t(n.position),this.container.appendChild(i);i.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||this.hide(i)}.bind(this));const c=i.querySelector(".toast-close");if(c&&c.addEventListener("click",this.hide.bind(this,i)),setTimeout(function(){i.classList.add("toast-show")},0),n.timeout){var d,u,h=n.timeout,f=function(){d=Date.now(),u=setTimeout(this.hide.bind(this,i),h),i._updateProgress&&i._updateProgress(!1)}.bind(this);n.pauseOnHover&&(i.addEventListener("mouseenter",function(){clearTimeout(u),h-=Date.now()-d,i._updateProgress&&i._updateProgress(!0)}),i.addEventListener("mouseleave",f)),f()}return i}success(t,o){return this.show(t,Object.assign({},o,{type:e}))}error(t,e){return this.show(t,Object.assign({},e,{type:o}))}info(t,e){return this.show(t,Object.assign({},e,{type:n}))}warning(t,e){return this.show(t,Object.assign({},e,{type:i}))}hide(t){t.classList.remove("toast-show"),t.addEventListener("transitionend",function e(){t.parentNode&&t.parentNode.removeChild(t),t.removeEventListener("transitionend",e)})}handleKeyDown(t){if("Escape"===t.key)for(var e=this.container.querySelectorAll(".toast"),o=0;o<e.length;o++)this.hide(e[o])}destroy(){document.removeEventListener("keydown",this.handleKeyDown),this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}export{a as ToastNotifier};
//# sourceMappingURL=index.modern.mjs.map
