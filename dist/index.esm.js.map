{"version":3,"file":"index.esm.js","sources":["../src/toast-container.js","../src/constants.js","../src/themes.js","../src/index.js","../src/toast.js","../src/positioning.js"],"sourcesContent":["export function getOrCreateContainer(position = \"top-right\") {\r\n\tconst containerClass = \"droplet-toast-container\"\r\n\r\n\t// Function to detect if the device is mobile (based on viewport width or user-agent)\r\n\tconst isMobile = () => {\r\n\t\tconst mobileViewportWidth = window.innerWidth <= 768 // Check screen width for mobile devices\r\n\t\tconst isMobileDevice = /Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) // Check user-agent for mobile devices\r\n\r\n\t\treturn mobileViewportWidth || isMobileDevice // Return true if either check is true\r\n\t}\r\n\r\n\t// If it's a mobile device, override position to top-center or bottom-center\r\n\tif (isMobile()) {\r\n\t\tposition = position.includes(\"top\") ? \"top-center\" : \"bottom-center\"\r\n\t}\r\n\r\n\t// Query for a container with the specific position\r\n\tlet container = document.querySelector(`.${containerClass}[data-position=\"${position}\"]`)\r\n\r\n\tif (!container) {\r\n\t\t// If not found, create a new one\r\n\t\tcontainer = document.createElement(\"div\")\r\n\t\tcontainer.className = containerClass\r\n\t\tcontainer.setAttribute(\"data-position\", position)\r\n\t\tdocument.body.appendChild(container)\r\n\t}\r\n\r\n\treturn container\r\n}\r\n","export const positions = {\r\n\tTOP: \"top\",\r\n\tBOTTOM: \"bottom\",\r\n\tLEFT: \"left\",\r\n\tRIGHT: \"right\",\r\n\tTOP_LEFT: \"top-left\",\r\n\tTOP_RIGHT: \"top-right\",\r\n\tBOTTOM_LEFT: \"bottom-left\",\r\n\tBOTTOM_RIGHT: \"bottom-right\",\r\n}\r\n\r\nexport const notificationTypes = {\r\n\tSUCCESS: \"success\",\r\n\tERROR: \"error\",\r\n\tINFO: \"info\",\r\n\tWARNING: \"warning\",\r\n}\r\n\r\nexport const defaultIcons = {\r\n\t[notificationTypes.SUCCESS]: `<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>`,\r\n\t[notificationTypes.ERROR]: `<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg>`,\r\n\t[notificationTypes.INFO]: `<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>`,\r\n\t[notificationTypes.WARNING]: `<svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>`,\r\n}\r\n","export const defaultThemes = {\r\n\tlight: {\r\n\t\tbackgroundColor: \"#ffffff\",\r\n\t\ttextColor: \"#333333\",\r\n\t},\r\n\tdark: {\r\n\t\tbackgroundColor: \"#1a1a1a\",\r\n\t\ttextColor: \"#ffffff\",\r\n\t},\r\n}\r\n\r\n// Updated colors to meet WCAG 2.1 AA contrast requirements\r\nexport const typeThemes = {\r\n\tsuccess: {\r\n\t\tbackgroundColor: \"#0d6d4d\", // Darker green for better contrast\r\n\t\ttextColor: \"#ffffff\",\r\n\t\ticonColor: \"#ffffff\",\r\n\t},\r\n\terror: {\r\n\t\tbackgroundColor: \"#c41e3a\", // Darker red for better contrast\r\n\t\ttextColor: \"#ffffff\",\r\n\t\ticonColor: \"#ffffff\",\r\n\t},\r\n\tinfo: {\r\n\t\tbackgroundColor: \"#0055b3\", // Darker blue for better contrast\r\n\t\ttextColor: \"#ffffff\",\r\n\t\ticonColor: \"#ffffff\",\r\n\t},\r\n\twarning: {\r\n\t\tbackgroundColor: \"#944e00\", // Darker orange for better contrast\r\n\t\ttextColor: \"#ffffff\",\r\n\t\ticonColor: \"#ffffff\",\r\n\t},\r\n}\r\n","import { getOrCreateContainer } from \"./toast-container\"\r\nimport { createToast } from \"./toast\";\r\nimport { positions, notificationTypes } from \"./constants\";\r\nimport { calculatePosition } from \"./positioning\";\r\nimport \"./styles/toast.css\"\r\n\r\n// Inject styles when the module is loaded\r\n// injectStyles();\r\n\r\nclass ToastNotifier {\r\n  constructor(options) {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n\r\n    this.options = Object.assign({\r\n      position: positions.TOP_RIGHT,\r\n      timeout: 5000,\r\n      theme: \"light\",\r\n      showCloseButton: true,\r\n      pauseOnHover: true\r\n    }, options || {});\r\n    this.container = getOrCreateContainer(this.options.position)\r\n    // updateContainerPosition(this.container, this.options.position);\r\n\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    document.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  show(message, options) {\r\n    if (typeof window === 'undefined') {\r\n      return null;\r\n    }\r\n\r\n    const toastOptions = Object.assign({}, this.options, options || {});\r\n    const toast = createToast(message, toastOptions);\r\n\r\n    const viewport = {\r\n      width: window.innerWidth || document.documentElement.clientWidth,\r\n      height: window.innerHeight || document.documentElement.clientHeight\r\n    };\r\n\r\n    if (toastOptions.anchor) {\r\n      const coords = calculatePosition(toast, toastOptions.anchor, toastOptions.position, viewport);\r\n      Object.assign(toast.style, {\r\n        position: \"absolute\",\r\n        top: coords.top + \"px\",\r\n        left: coords.left + \"px\",\r\n        zIndex: \"1001\"\r\n      });\r\n\r\n      if (coords.dropletOffset) {\r\n        toast.style.setProperty(\"--droplet-left\", coords.dropletOffset + \"px\");\r\n      }\r\n\r\n      document.body.appendChild(toast);\r\n    } else {\r\n    //   updateContainerPosition(this.container, toastOptions.position);\r\n\t  this.container = getOrCreateContainer(toastOptions.position)\r\n      this.container.appendChild(toast);\r\n    }\r\n\r\n    toast.addEventListener(\"keydown\", function(e) {\r\n      if (e.key === \"Enter\" || e.key === \" \") {\r\n        this.hide(toast);\r\n      }\r\n    }.bind(this));\r\n\r\n    const closeButton = toast.querySelector(\".toast-close\");\r\n    if (closeButton) {\r\n      closeButton.addEventListener(\"click\", this.hide.bind(this, toast));\r\n    }\r\n\r\n    // Use setTimeout for IE11 compatibility instead of requestAnimationFrame\r\n    setTimeout(function() {\r\n      toast.classList.add(\"toast-show\");\r\n    }, 0);\r\n\r\n    if (toastOptions.timeout) {\r\n      var timeLeft = toastOptions.timeout;\r\n      var startTime;\r\n      var timeoutId;\r\n\r\n      var startTimer = function() {\r\n        startTime = Date.now();\r\n        timeoutId = setTimeout(this.hide.bind(this, toast), timeLeft);\r\n        if (toast._updateProgress) {\r\n          toast._updateProgress(false);\r\n        }\r\n      }.bind(this);\r\n\r\n      var pauseTimer = function() {\r\n        clearTimeout(timeoutId);\r\n        timeLeft -= Date.now() - startTime;\r\n        if (toast._updateProgress) {\r\n          toast._updateProgress(true);\r\n        }\r\n      };\r\n\r\n      if (toastOptions.pauseOnHover) {\r\n        toast.addEventListener(\"mouseenter\", pauseTimer);\r\n        toast.addEventListener(\"mouseleave\", startTimer);\r\n      }\r\n\r\n      startTimer();\r\n    }\r\n\r\n    return toast;\r\n  }\r\n\r\n  success(message, options) {\r\n    return this.show(message, Object.assign({}, options, { type: notificationTypes.SUCCESS }));\r\n  }\r\n\r\n  error(message, options) {\r\n    return this.show(message, Object.assign({}, options, { type: notificationTypes.ERROR }));\r\n  }\r\n\r\n  info(message, options) {\r\n    return this.show(message, Object.assign({}, options, { type: notificationTypes.INFO }));\r\n  }\r\n\r\n  warning(message, options) {\r\n    return this.show(message, Object.assign({}, options, { type: notificationTypes.WARNING }));\r\n  }\r\n\r\n  hide(toast) {\r\n    toast.classList.remove(\"toast-show\");\r\n    \r\n    // Use standard event listener for better compatibility\r\n    var handleTransitionEnd = function() {\r\n      if (toast.parentNode) {\r\n        toast.parentNode.removeChild(toast);\r\n      }\r\n      toast.removeEventListener(\"transitionend\", handleTransitionEnd);\r\n    };\r\n    \r\n    toast.addEventListener(\"transitionend\", handleTransitionEnd);\r\n  }\r\n\r\n  handleKeyDown(e) {\r\n    if (e.key === \"Escape\") {\r\n      var toasts = this.container.querySelectorAll(\".toast\");\r\n      for (var i = 0; i < toasts.length; i++) {\r\n        this.hide(toasts[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\r\n    if (this.container && this.container.parentNode) {\r\n      this.container.parentNode.removeChild(this.container);\r\n    }\r\n  }\r\n}\r\n\r\nexport { ToastNotifier };","import { defaultIcons } from \"./constants\"\r\nimport { typeThemes, defaultThemes } from \"./themes\"\r\n\r\nexport function createToast(message, options) {\r\n\tconst toast = document.createElement(\"div\")\r\n\tconst theme = getTheme(options)\r\n\tconst type = options.type || \"default\"\r\n\r\n\ttoast.className = `toast ${options.customClass || \"\"}`\r\n\ttoast.setAttribute(\"role\", \"alert\")\r\n\ttoast.setAttribute(\"aria-live\", \"polite\")\r\n\ttoast.setAttribute(\"aria-atomic\", \"true\")\r\n\r\n\tif (type !== \"default\") {\r\n\t\ttoast.setAttribute(\"aria-label\", `${type} notification: ${message}`)\r\n\t}\r\n\r\n\tObject.assign(toast.style, {\r\n\t\tbackgroundColor: theme.backgroundColor,\r\n\t\tcolor: theme.textColor,\r\n\t})\r\n\r\n\tconst content = createContent(message, options, theme)\r\n\ttoast.appendChild(content)\r\n\r\n\tif (options.showCloseButton !== false) {\r\n\t\tconst closeButton = createCloseButton(theme)\r\n\t\ttoast.appendChild(closeButton)\r\n\t}\r\n\r\n\tif (options.anchor) {\r\n\t\ttoast.classList.add(\"toast-anchored\")\r\n\t\tconst droplet = createDroplet(theme)\r\n\t\ttoast.appendChild(droplet)\r\n\t}\r\n\r\n\tif (options.showProgress !== false && options.timeout) {\r\n\t\tconst { progressBar, updateProgress } = createProgressBar(options)\r\n\t\ttoast.appendChild(progressBar)\r\n\t\ttoast._updateProgress = updateProgress\r\n\t}\r\n\r\n\ttoast.setAttribute(\"tabindex\", \"0\")\r\n\r\n\treturn toast\r\n}\r\n\r\nfunction getTheme(options) {\r\n\tif (options.type && typeThemes[options.type]) {\r\n\t\treturn {\r\n\t\t\t...typeThemes[options.type],\r\n\t\t\t...options.theme,\r\n\t\t}\r\n\t}\r\n\r\n\tconst baseTheme = defaultThemes[options.theme] || defaultThemes.light\r\n\treturn {\r\n\t\t...baseTheme,\r\n\t\t...options.theme,\r\n\t}\r\n}\r\n\r\nfunction createContent(message, options, theme) {\r\n\tconst wrapper = document.createElement(\"div\")\r\n\twrapper.className = \"toast-content\"\r\n\twrapper.setAttribute(\"role\", \"presentation\")\r\n\r\n\tif (options.type && defaultIcons[options.type]) {\r\n\t\tconst icon = createIcon(options, theme)\r\n\t\twrapper.appendChild(icon)\r\n\t}\r\n\r\n\tconst messageEl = document.createElement(\"span\")\r\n\tmessageEl.textContent = message\r\n\twrapper.appendChild(messageEl)\r\n\r\n\treturn wrapper\r\n}\r\n\r\nfunction createIcon(options, theme) {\r\n\tconst icon = document.createElement(\"div\")\r\n\ticon.className = \"toast-icon\"\r\n\ticon.setAttribute(\"role\", \"img\")\r\n\ticon.setAttribute(\"aria-label\", `${options.type} icon`)\r\n\ticon.innerHTML = options.icon || defaultIcons[options.type]\r\n\ticon.style.color = theme.iconColor || theme.textColor\r\n\treturn icon\r\n}\r\n\r\nfunction createCloseButton(theme) {\r\n\tconst button = document.createElement(\"button\")\r\n\tbutton.className = \"toast-close\"\r\n\tbutton.setAttribute(\"aria-label\", \"Close notification\")\r\n\tbutton.innerHTML = `<svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" aria-hidden=\"true\" focusable=\"false\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>`\r\n\tbutton.style.color = theme.textColor\r\n\treturn button\r\n}\r\n\r\nfunction createDroplet(theme) {\r\n\tconst droplet = document.createElement(\"div\")\r\n\tdroplet.className = \"toast-droplet\"\r\n\tdroplet.setAttribute(\"role\", \"presentation\")\r\n\tdroplet.setAttribute(\"aria-hidden\", \"true\")\r\n\tdroplet.style.backgroundColor = theme.backgroundColor\r\n\treturn droplet\r\n}\r\n\r\nfunction createProgressBar(options) {\r\n\tconst progress = document.createElement(\"div\")\r\n\tprogress.className = \"toast-progress\"\r\n\r\n\tif (options.progressHeight) {\r\n\t\tprogress.style.setProperty(\"--progress-height\", options.progressHeight)\r\n\t}\r\n\r\n\tif (options.progressColor) {\r\n\t\tprogress.style.setProperty(\"--progress-color\", options.progressColor)\r\n\t}\r\n\r\n\tif (options.progressBackground) {\r\n\t\tprogress.style.setProperty(\"--progress-background\", options.progressBackground)\r\n\t}\r\n\r\n\tconst bar = document.createElement(\"div\")\r\n\tbar.className = \"toast-progress-bar\"\r\n\r\n\t// Initialize progress state\r\n\tlet startTime = null\r\n\tlet pausedAt = null\r\n\tlet currentScale = 0\r\n\tlet animationFrame = null\r\n\r\n\t// Function to update progress bar position\r\n\tconst updateProgress = (isPaused = false) => {\r\n\t\tif (isPaused && startTime !== null) {\r\n\t\t\t// Store current progress when pausing\r\n\t\t\tconst elapsed = Date.now() - startTime\r\n\t\t\tcurrentScale = Math.max(0, Math.min(1, elapsed / options.timeout))\r\n\t\t\tpausedAt = elapsed\r\n\t\t\tstartTime = null\r\n\r\n\t\t\t// Cancel animation frame\r\n\t\t\tif (animationFrame) {\r\n\t\t\t\tcancelAnimationFrame(animationFrame)\r\n\t\t\t\tanimationFrame = null\r\n\t\t\t}\r\n\r\n\t\t\t// Set the exact position where we paused\r\n\t\t\tbar.style.transition = \"none\"\r\n\t\t\tbar.style.transform = `scaleX(${currentScale})`\r\n\t\t} else if (!isPaused) {\r\n\t\t\t// Resume or start progress\r\n\t\t\tif (pausedAt !== null) {\r\n\t\t\t\t// Resuming from paused state\r\n\t\t\t\tconst remainingTime = options.timeout - pausedAt\r\n\t\t\t\tstartTime = Date.now() - pausedAt\r\n\r\n\t\t\t\t// Restore transition and continue from current position\r\n\t\t\t\tbar.style.transition = `transform ${remainingTime}ms linear`\r\n\t\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\t\tbar.style.transform = \"scaleX(1)\"\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Starting fresh\r\n\t\t\t\tstartTime = Date.now()\r\n\t\t\t\tbar.style.transition = `transform ${options.timeout}ms linear`\r\n\t\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\t\tbar.style.transform = \"scaleX(1)\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t// Start progress tracking\r\n\t\t\tconst animate = () => {\r\n\t\t\t\tif (startTime === null) return // Stop if paused\r\n\r\n\t\t\t\tconst elapsed = Date.now() - startTime\r\n\t\t\t\tcurrentScale = Math.max(0, Math.min(1, elapsed / options.timeout))\r\n\r\n\t\t\t\tif (elapsed < options.timeout) {\r\n\t\t\t\t\tanimationFrame = requestAnimationFrame(animate)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tanimate()\r\n\t\t}\r\n\t}\r\n\r\n\tprogress.appendChild(bar)\r\n\r\n\t// Start the progress bar after a frame\r\n\trequestAnimationFrame(() => {\r\n\t\tupdateProgress(false)\r\n\t})\r\n\r\n\treturn { progressBar: progress, updateProgress }\r\n}\r\n","export function calculatePosition(toast, anchor, position, viewport) {\r\n\tconst anchorRect = anchor?.getBoundingClientRect()\r\n\tconst toastRect = toast.getBoundingClientRect()\r\n\tconst offset = 12\r\n\tconst dropletSize = 12\r\n\r\n\tlet coords = { top: 0, left: 0 }\r\n\r\n\tif (anchor) {\r\n\t\tcoords = getAnchorPosition(position, anchorRect, toastRect, offset, dropletSize)\r\n\t\tcoords = adjustForViewport(coords, toastRect, viewport, position)\r\n\r\n\t\t// Set the data-point attribute for droplet positioning\r\n\t\ttoast.setAttribute(\"data-point\", getDropletPoint(position))\r\n\r\n\t\t// Calculate connector height for bottom-anchored toasts\r\n\t\tif (position === \"bottom\") {\r\n\t\t\tconst connectorHeight = Math.abs(anchorRect.top - (coords.top + toastRect.height))\r\n\t\t\ttoast.style.setProperty(\"--droplet-connector-height\", `${connectorHeight}px`)\r\n\t\t}\r\n\t} else {\r\n\t\tcoords = getFixedPosition(position, toastRect, viewport, offset)\r\n\t}\r\n\r\n\treturn coords\r\n}\r\n\r\nfunction getAnchorPosition(position, anchorRect, toastRect, offset, dropletSize) {\r\n\tconst halfDroplet = dropletSize / 2\r\n\r\n\tconst positions = {\r\n\t\ttop: {\r\n\t\t\ttop: anchorRect.top - toastRect.height - offset - halfDroplet,\r\n\t\t\tleft: anchorRect.left + (anchorRect.width - toastRect.width) / 2,\r\n\t\t},\r\n\t\tbottom: {\r\n\t\t\ttop: anchorRect.bottom + offset + halfDroplet,\r\n\t\t\tleft: anchorRect.left + (anchorRect.width - toastRect.width) / 2,\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\ttop: anchorRect.top + (anchorRect.height - toastRect.height) / 2,\r\n\t\t\tleft: anchorRect.left - toastRect.width - offset - halfDroplet,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttop: anchorRect.top + (anchorRect.height - toastRect.height) / 2,\r\n\t\t\tleft: anchorRect.right + offset + halfDroplet,\r\n\t\t},\r\n\t}\r\n\r\n\treturn positions[position] || positions.top\r\n}\r\n\r\nfunction adjustForViewport(coords, toastRect, viewport, position) {\r\n\tconst margin = 20\r\n\tconst originalCoords = { ...coords }\r\n\r\n\t// Adjust horizontal position\r\n\tif (coords.left < margin) {\r\n\t\tcoords.left = margin\r\n\t} else if (coords.left + toastRect.width > viewport.width - margin) {\r\n\t\tcoords.left = viewport.width - toastRect.width - margin\r\n\t}\r\n\r\n\t// Adjust vertical position\r\n\tif (coords.top < margin) {\r\n\t\tcoords.top = margin\r\n\t} else if (coords.top + toastRect.height > viewport.height - margin) {\r\n\t\tcoords.top = viewport.height - toastRect.height - margin\r\n\t}\r\n\r\n\t// Update droplet position if toast position was adjusted\r\n\tif (coords.left !== originalCoords.left) {\r\n\t\tconst dropletOffset = Math.min(Math.max(originalCoords.left - coords.left + toastRect.width / 2, 20), toastRect.width - 20)\r\n\t\tcoords.dropletOffset = dropletOffset\r\n\t}\r\n\r\n\treturn coords\r\n}\r\n\r\nfunction getFixedPosition(position, toastRect, viewport, offset) {\r\n\tconst positions = {\r\n\t\t\"top-left\": { top: offset, left: offset },\r\n\t\t\"top-right\": { top: offset, right: offset },\r\n\t\t\"bottom-left\": { bottom: offset, left: offset },\r\n\t\t\"bottom-right\": { bottom: offset, right: offset },\r\n\t}\r\n\r\n\treturn positions[position] || positions[\"top-right\"]\r\n}\r\n\r\nfunction getDropletPoint(position) {\r\n\tconst points = {\r\n\t\ttop: \"bottom\",\r\n\t\tbottom: \"top\",\r\n\t\tleft: \"right\",\r\n\t\tright: \"left\",\r\n\t}\r\n\r\n\treturn points[position] || \"bottom\"\r\n}\r\n"],"names":["getOrCreateContainer","position","mobileViewportWidth","isMobileDevice","containerClass","window","innerWidth","test","navigator","userAgent","includes","container","document","querySelector","createElement","className","setAttribute","body","appendChild","notificationTypes","defaultIcons","_defaultIcons","defaultThemes","light","backgroundColor","textColor","dark","typeThemes","success","iconColor","error","info","warning","ToastNotifier","options","this","Object","assign","timeout","theme","showCloseButton","pauseOnHover","handleKeyDown","bind","addEventListener","_proto","prototype","show","message","toastOptions","toast","type","getTheme","customClass","style","color","content","wrapper","icon","innerHTML","createIcon","messageEl","textContent","createContent","closeButton","button","createCloseButton","anchor","classList","add","droplet","createDroplet","showProgress","_createProgressBar","progress","progressHeight","setProperty","progressColor","progressBackground","bar","startTime","pausedAt","currentScale","animationFrame","updateProgress","isPaused","elapsed","Date","now","Math","max","min","cancelAnimationFrame","transition","transform","remainingTime","requestAnimationFrame","animate","progressBar","createProgressBar","_updateProgress","createToast","viewport","width","documentElement","clientWidth","height","innerHeight","clientHeight","coords","anchorRect","getBoundingClientRect","toastRect","top","left","positions","dropletSize","bottom","right","getAnchorPosition","margin","originalCoords","dropletOffset","adjustForViewport","getDropletPoint","connectorHeight","abs","offset","getFixedPosition","calculatePosition","zIndex","e","key","hide","setTimeout","timeoutId","timeLeft","startTimer","clearTimeout","remove","handleTransitionEnd","parentNode","removeChild","removeEventListener","toasts","querySelectorAll","i","length","destroy"],"mappings":"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"}